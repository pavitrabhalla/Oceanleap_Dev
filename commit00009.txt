Changes to postData to give appropriate error messages and response codes